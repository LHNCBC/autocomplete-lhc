<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Autocomplete-lhc : An autocompleter package used by the PHR project and lforms widget">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Autocomplete-lhc</title>
    <link rel="stylesheet" href="dist/demo.css" media="screen">
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/lhncbc/autocomplete-lhc">View on GitHub</a>

          <h1 id="project_title">Autocomplete-lhc</h1>
          <h2 id="project_tagline">An autocompleter package used by the PHR project and lforms widget</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/lhncbc/autocomplete-lhc/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/lhncbc/autocomplete-lhc/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="autocomplete-lhc" class="anchor" href="#autocomplete-lhc" aria-hidden="true"><span class="octicon octicon-link"></span></a>autocomplete-lhc</h1>

<p>This is a package of JavaScript autocompleters based on Scriptaculous, with
extensive revisions and additions.  These were developed to meet the requirements of the
<a href="https://phr-demo.nlm.nih.gov">NLM PHR</a> and <a
href="https://lforms-demo.nlm.nih.gov">LForms</a> projects</a>.  The package
includes an AngularJS directive, but can be used without Angular.</p>

The package supports two basic types of autocompleters.  Autocompleters whose
lists are small enough to be fully specified at construction time are called
"<b>Prefetch</b>", and are supported by autoCompPrefetch.js.  Autocompleters whose
lists are shown in small, AJAX-retrieved chunks that match the user's input are
called "<b>Search</b>", and are supported by autoCompSearch.js.

  <script src="dist/demo.js"></script>

<h2>A Few Demos</h2>

A prefetch autocompleter that allows off-list items:
<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
<div class="demo"><input type="text" id="demo1">
<script>
var dessertArray = ['Chocoloate bar', 'Chocolate ice cream',
  'Vanilla ice cream', 'Brownie', 'Fudge Brownie', 'Double Fudge Brownie',
  'Fudge'].sort();
new Def.Autocompleter.Prefetch('demo1', dessertArray);
</script>
</div><div>  <a class="showSource">[Show source]</a>  <div style="display:none">    <pre class="prettyprint lang-html"     ><code>&lt;input type=&quot;text&quot; id=&quot;demo1&quot;&gt;
&lt;script&gt;
var dessertArray = [&#39;Chocoloate bar&#39;, &#39;Chocolate ice cream&#39;,
  &#39;Vanilla ice cream&#39;, &#39;Brownie&#39;, &#39;Fudge Brownie&#39;, &#39;Double Fudge Brownie&#39;,
  &#39;Fudge&#39;].sort();
new Def.Autocompleter.Prefetch(&#39;demo1&#39;, dessertArray);
&lt;/script&gt;
    </code></pre>    <a class="hideSource">[Hide source]</a>  </div></div>

Lists can also require the entered value to match:
<div class="demo"><input type="text" id="demo2">
<script>
var opts = {'matchListValue': true}
new Def.Autocompleter.Prefetch('demo2', dessertArray, opts);
</script>
</div><div>  <a class="showSource">[Show source]</a>  <div style="display:none">    <pre class="prettyprint lang-html"     ><code>&lt;input type=&quot;text&quot; id=&quot;demo2&quot;&gt;
&lt;script&gt;
var opts = {&#39;matchListValue&#39;: true}
new Def.Autocompleter.Prefetch(&#39;demo2&#39;, dessertArray, opts);
&lt;/script&gt;
    </code></pre>    <a class="hideSource">[Hide source]</a>  </div></div>

Sequence numbers can be left out (but are useful for picking by number):
<div class="demo"><input type="text" id="demo3">
<script>
var opts = {addSeqNum: false}
new Def.Autocompleter.Prefetch('demo3', dessertArray, opts);
</script>
</div><div>  <a class="showSource">[Show source]</a>  <div style="display:none">    <pre class="prettyprint lang-html"     ><code>&lt;input type=&quot;text&quot; id=&quot;demo3&quot;&gt;
&lt;script&gt;
var opts = {addSeqNum: false}
new Def.Autocompleter.Prefetch(&#39;demo3&#39;, dessertArray, opts);
&lt;/script&gt;
    </code></pre>    <a class="hideSource">[Hide source]</a>  </div></div>

When a field is near the bottom of the window, the list will scroll into view
and flow into two columns:
<div class="demo"><input type="text" id="demo4">
<script>
var moreDesserts = ['Chocoloate bar', 'Chocolate ice cream',
  'Vanilla ice cream', 'Brownie', 'Fudge brownie', 'Double fudge brownie',
  'Fudge', 'Chocolate cake', 'Chocolate mousse', 'Watermelon',
   'Chocolate chip cookies', 'Brownie-stuffed cookie'].sort();
new Def.Autocompleter.Prefetch('demo4', moreDesserts);
</script>
</div><div>  <a class="showSource">[Show source]</a>  <div style="display:none">    <pre class="prettyprint lang-html"     ><code>&lt;input type=&quot;text&quot; id=&quot;demo4&quot;&gt;
&lt;script&gt;
var moreDesserts = [&#39;Chocoloate bar&#39;, &#39;Chocolate ice cream&#39;,
  &#39;Vanilla ice cream&#39;, &#39;Brownie&#39;, &#39;Fudge brownie&#39;, &#39;Double fudge brownie&#39;,
  &#39;Fudge&#39;, &#39;Chocolate cake&#39;, &#39;Chocolate mousse&#39;, &#39;Watermelon&#39;,
   &#39;Chocolate chip cookies&#39;, &#39;Brownie-stuffed cookie&#39;].sort();
new Def.Autocompleter.Prefetch(&#39;demo4&#39;, moreDesserts);
&lt;/script&gt;
    </code></pre>    <a class="hideSource">[Hide source]</a>  </div></div>

Larger lists show a subset and have a "see more" link:
<div class="demo"><input type="text" id="demo5">
<script>
var evenMoreDesserts = ['Chocoloate bar', 'Chocolate ice cream',
  'Vanilla ice cream', 'Brownie', 'Fudge brownie', 'Double fudge brownie',
  'Fudge', 'Chocolate cake', 'Chocolate mousse', 'Watermelon',
  'Chocolate chip cookies', 'Brownie-stuffed cookie', 'Cannoli',
  'Baklava', 'Tiramisu', 'Ice cream cake', 'Pumpkin pie', 'Shortbread',
  'Samoas', 'Raisin cookies', 'Peanut butter cookies'].sort();
new Def.Autocompleter.Prefetch('demo5', evenMoreDesserts);
</script>
</div><div>  <a class="showSource">[Show source]</a>  <div style="display:none">    <pre class="prettyprint lang-html"     ><code>&lt;input type=&quot;text&quot; id=&quot;demo5&quot;&gt;
&lt;script&gt;
var evenMoreDesserts = [&#39;Chocoloate bar&#39;, &#39;Chocolate ice cream&#39;,
  &#39;Vanilla ice cream&#39;, &#39;Brownie&#39;, &#39;Fudge brownie&#39;, &#39;Double fudge brownie&#39;,
  &#39;Fudge&#39;, &#39;Chocolate cake&#39;, &#39;Chocolate mousse&#39;, &#39;Watermelon&#39;,
  &#39;Chocolate chip cookies&#39;, &#39;Brownie-stuffed cookie&#39;, &#39;Cannoli&#39;,
  &#39;Baklava&#39;, &#39;Tiramisu&#39;, &#39;Ice cream cake&#39;, &#39;Pumpkin pie&#39;, &#39;Shortbread&#39;,
  &#39;Samoas&#39;, &#39;Raisin cookies&#39;, &#39;Peanut butter cookies&#39;].sort();
new Def.Autocompleter.Prefetch(&#39;demo5&#39;, evenMoreDesserts);
&lt;/script&gt;
    </code></pre>    <a class="hideSource">[Hide source]</a>  </div></div>

List items can have associated codes:
<div class="demo"><input type="text" id="demo6" name="demo6">  Code: <input id=demo6Code readonly>
<script>
var opts = {codes: ['R', 'G', 'B']}
new Def.Autocompleter.Prefetch('demo6', ['Red', 'Green', 'Blue'], opts);
Def.Autocompleter.Event.observeListSelections('demo6', function(data) {
  jQuery('#demo6Code')[0].value = data.item_code;
});
</script>
</div><div>  <a class="showSource">[Show source]</a>  <div style="display:none">    <pre class="prettyprint lang-html"     ><code>&lt;input type=&quot;text&quot; id=&quot;demo6&quot; name=&quot;demo6&quot;&gt;  Code: &lt;input id=demo6Code readonly&gt;
&lt;script&gt;
var opts = {codes: [&#39;R&#39;, &#39;G&#39;, &#39;B&#39;]}
new Def.Autocompleter.Prefetch(&#39;demo6&#39;, [&#39;Red&#39;, &#39;Green&#39;, &#39;Blue&#39;], opts);
Def.Autocompleter.Event.observeListSelections(&#39;demo6&#39;, function(data) {
  jQuery(&#39;#demo6Code&#39;)[0].value = data.item_code;
});
&lt;/script&gt;
    </code></pre>    <a class="hideSource">[Hide source]</a>  </div></div>

List items can have headers (in prefetch lists):
<div class="demo"><input type="text" id="demo7">
<script>
var colors = ['Primary', 'Red', 'Green', 'Blue',
              'Secondary', 'Magenta', 'Yellow', 'Cyan']
var opts = {codes: ['P', 'R', 'G', 'B', 'S', 'M', 'Y', 'C'],
            itemToHeading: {R: 'P', G: 'P', B: 'P',
                            M: 'S', Y: 'S', C: 'S'}}
new Def.Autocompleter.Prefetch('demo7', colors, opts);
</script>
</div><div>  <a class="showSource">[Show source]</a>  <div style="display:none">    <pre class="prettyprint lang-html"     ><code>&lt;input type=&quot;text&quot; id=&quot;demo7&quot;&gt;
&lt;script&gt;
var colors = [&#39;Primary&#39;, &#39;Red&#39;, &#39;Green&#39;, &#39;Blue&#39;,
              &#39;Secondary&#39;, &#39;Magenta&#39;, &#39;Yellow&#39;, &#39;Cyan&#39;]
var opts = {codes: [&#39;P&#39;, &#39;R&#39;, &#39;G&#39;, &#39;B&#39;, &#39;S&#39;, &#39;M&#39;, &#39;Y&#39;, &#39;C&#39;],
            itemToHeading: {R: &#39;P&#39;, G: &#39;P&#39;, B: &#39;P&#39;,
                            M: &#39;S&#39;, Y: &#39;S&#39;, C: &#39;S&#39;}}
new Def.Autocompleter.Prefetch(&#39;demo7&#39;, colors, opts);
&lt;/script&gt;
    </code></pre>    <a class="hideSource">[Hide source]</a>  </div></div>

(Search list demos are still TBD).

<script>
  function showSource(e) {
    e.target.style.display='none';
    e.target.nextElementSibling.style.display='block';
  }
  jQuery('.showSource').click(showSource);
  jQuery('.hideSource').click(function(e) {
    e.target.parentNode.style.display='none';
    e.target.parentNode.previousElementSibling.style.display = '';
  });
</script>


<h2>Features:</h2>

<ol>
<li>Section 508-compliant (i.e., accessible to screen readers)</li>
<li>Supports coded-value lists</li>
<li>Heading items in lists</li>
<li>Two-column lists when there is not enough space on the page to show the list
in a single column.</li>
<li>Numbered list items (optional).</li>
<li>Can require that an entry in the field match the list.</li>
<li>Event listeners for various things like "list selection".</li>
<li>Provides a way to get extra information about the record associated with a
list item.  (See recordDataRequester.js.)</li>
<li>Partial support for multi-select lists.  (Multi-select lists
do not currently support entry of text not on the list.)</li>
<li>Support for list suggestions in the search (AJAX) autocompleter, when the user does
not pick an item in the list.</li>
<li>"autofill" option -- fills in the field automatically if there is just one
list item</li>
<li>Default values (optional), which gets placed in the field when the field gets
focus (along with showing the list).</li>
<li>A "see more" link on the search autocompleter which provides an expanded list
of items.</li>
<li>Search buttons (optional) for search autocompleters to make them show an expanded
results list.  (Without a button, the user can click on the "see more" link.)</li>
<li>A results cache for the search autocompleter, so that repeats of AJAX calls
for the same list items are not necessary.</li>
</ol>

<p>This software, autocomplete-lhc, was developed by the National Library of Medicine (NLM) Lister Hill National Center for Biomedical Communications (LHNCBC), part of the National Institutes of Health (NIH).</p>

<p>Please cite as: <a href="http://lhncbc.nlm.nih.gov/project/nlm-personal-health-record-phr">http://lhncbc.nlm.nih.gov/project/nlm-personal-health-record-phr</a></p>

<p>This software is distributed under a BSD-style open-source license.  See <a
href="https://github.com/lhncbc/autocomplete-lhc/blob/master/LICENSE.md">LICENSE.md</a>.</p>

<p>No warranty or indemnification for damages resulting from claims brought by third parties whose proprietary rights may be infringed by your usage of this software are provided by any of the owners.
</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Autocomplete-lhc maintained by <a href="https://github.com/lhncbc">lhncbc</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>


  </body>
</html>
